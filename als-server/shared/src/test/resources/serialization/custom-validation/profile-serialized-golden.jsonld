{
"@graph": [
{
"@id": "/BaseUnitProcessingData",
"@type": [
"doc:DialectInstanceProcessingData"
],
"meta:definedBy": [
{
"@id": "http://a.ml/amf/default_document/validationprofile/1.0"
}
],
"doc:transformed": true,
"doc:sourceSpec": "Validation Profile 1.0"
},
{
"@id": "#/encodes",
"@type": [
"http://a.ml/vocabularies/amf-validation#Profile",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/profileNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"http://a.ml/vocabularies/amf-validation#setSeverityWarning": [
"ab"
],
"http://schema.org/name": "My Profile",
"http://a.ml/vocabularies/amf-validation#setSeverityViolation": [
"scalar-parameters"
],
"http://a.ml/vocabularies/amf-validation#validations": [
{
"@id": "#/encodes/validations/scalar-parameters"
},
{
"@id": "#/encodes/validations/ab"
}
]
},
{
"@id": "#/encodes/validations/scalar-parameters",
"@type": [
"http://a.ml/vocabularies/amf-validation#ShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/shapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:message": "Scalars in parameters must have minLength defined",
"http://a.ml/vocabularies/amf-validation#ramlClassId": [
"apiContract.Parameter"
],
"http://schema.org/name": "scalar-parameters",
"shacl:property": [
{
"@id": "#/encodes/validations/scalar-parameters/propertyConstraints/shapes.schema%20%252F%20shacl.minLength"
}
]
},
{
"@id": "#/encodes/validations/ab",
"@type": [
"shacl:RegoConstraint",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/conditionalNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:message": "Ensure API can only be accessed by the specified HTTP verbs. All other HTTP verbs should be disabled (e.g. HEAD).\n",
"http://a.ml/vocabularies/amf-validation#ramlClassId": [
"apiContract.Operation"
],
"http://schema.org/name": "ab",
"http://a.ml/vocabularies/amf-validation#then": {
"@id": "#/encodes/validations/ab/then"
},
"http://a.ml/vocabularies/amf-validation#if": {
"@id": "#/encodes/validations/ab/if"
}
},
{
"@id": "#/encodes/validations/scalar-parameters/propertyConstraints/shapes.schema%20%252F%20shacl.minLength",
"@type": [
"shacl:PropertyShape",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/propertyConstraintNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:minCount": 1,
"http://a.ml/vocabularies/amf-validation#ramlPropertyId": "shapes.schema / shacl.minLength"
},
{
"@id": "#/encodes/validations/ab/then",
"@type": [
"http://a.ml/vocabularies/amf-validation#ShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/shapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:property": [
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns"
}
]
},
{
"@id": "#/encodes/validations/ab/if",
"@type": [
"http://a.ml/vocabularies/amf-validation#NotShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/notShapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:not": {
"@id": "#/encodes/validations/ab/if/not"
}
},
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns",
"@type": [
"shacl:PropertyShape",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/propertyConstraintNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:atLeastNode": {
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast"
},
"http://a.ml/vocabularies/amf-validation#ramlPropertyId": "apiContract.returns"
},
{
"@id": "#/encodes/validations/ab/if/not",
"@type": [
"http://a.ml/vocabularies/amf-validation#ShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/shapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:property": [
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns"
}
]
},
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast",
"@type": [
"http://a.ml/vocabularies/amf-validation#QualifiedShapevalidationNode",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/qualifiedShapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:count": 1,
"shacl:valueShape": {
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast/validation"
}
},
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns",
"@type": [
"shacl:PropertyShape",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/propertyConstraintNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:atLeastNode": {
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast"
},
"http://a.ml/vocabularies/amf-validation#ramlPropertyId": "apiContract.returns"
},
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast/validation",
"@type": [
"http://a.ml/vocabularies/amf-validation#ShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/shapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:property": [
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast/validation/propertyConstraints/apiContract.statusCode"
}
]
},
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast",
"@type": [
"http://a.ml/vocabularies/amf-validation#QualifiedShapevalidationNode",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/qualifiedShapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:count": 1,
"shacl:valueShape": {
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast/validation"
}
},
{
"@id": "#/encodes/validations/ab/then/propertyConstraints/apiContract.returns/atLeast/validation/propertyConstraints/apiContract.statusCode",
"@type": [
"shacl:PropertyShape",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/propertyConstraintNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"http://a.ml/vocabularies/amf-validation#ramlPropertyId": "apiContract.statusCode",
"shacl:in": [
"403"
]
},
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast/validation",
"@type": [
"http://a.ml/vocabularies/amf-validation#ShapeValidation",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/shapeValidationNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"shacl:property": [
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast/validation/propertyConstraints/apiContract.statusCode"
}
]
},
{
"@id": "#/encodes/validations/ab/if/not/propertyConstraints/apiContract.returns/atLeast/validation/propertyConstraints/apiContract.statusCode",
"@type": [
"shacl:PropertyShape",
"http://a.ml/amf/default_document/validationprofile/1.0#/declarations/propertyConstraintNode",
"meta:DialectDomainElement",
"doc:DomainElement"
],
"http://a.ml/vocabularies/amf-validation#ramlPropertyId": "apiContract.statusCode",
"shacl:in": [
"200"
]
},
{
"@id": "",
"@type": [
"meta:DialectInstance",
"doc:Document",
"doc:Fragment",
"doc:Module",
"doc:Unit"
],
"meta:definedBy": [
{
"@id": "http://a.ml/amf/default_document/validationprofile/1.0"
}
],
"doc:encodes": {
"@id": "#/encodes"
},
"doc:root": true,
"doc:processingData": {
"@id": "/BaseUnitProcessingData"
}
}
],
"@context": {
"@base": "file://als-server/shared/src/test/resources/serialization/custom-validation/profile.yaml",
"shacl": "http://www.w3.org/ns/shacl#",
"doc": "http://a.ml/vocabularies/document#",
"meta": "http://a.ml/vocabularies/meta#"
}
}
